<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}ApparelShop{% endblock %}</title>
  <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
  <header class="header">
    <div class="bar container">
      <button class="burger" aria-label="メニュー" aria-expanded="false">☰</button>
      <div class="logo"><a href="/">ApparelShop</a></div>
      <nav class="menu">
        <a href="/">TOP</a>
        <a href="/news">NEWS</a>
        <a href="/goods">EVENT</a>
        <a href="/goods">GOODS</a>
        <a href="/cart" class="cart">CART <span id="cart-badge" class="badge">0</span></a>
        <a href="/history">HISTORY</a>
        <a href="/account">ACCOUNT</a>
        <a href="/admin/orders">管理</a>
      </nav>
    </div>
  </header>

  <main class="container">
    {% block content %}{% endblock %}
  </main>

  <footer class="footer container">© 2026 ApparelShop</footer>

  <script>
    // minimal cart badge update from localStorage
    function updateCartBadge(){
      try{
        const c = JSON.parse(localStorage.getItem('cart')||'[]');
        const n = c.reduce((s,i)=>s+(i.qty||0),0);
        const el = document.getElementById('cart-badge'); if(el){ if(n>0){ el.textContent = n; el.style.display='inline-block'; } else { el.style.display='none'; }}
      }catch(e){}
    }
    document.addEventListener('DOMContentLoaded', updateCartBadge);
  </script>
</body>
</html>
