# dsign.md

概要
- 本仕様は `req.md` に基づくモバイルファーストな画面デザイン仕様書です。上部メニューは推奨案に従い `TOP / NEWS / EVENT / GOODS / CART / HISTORY / ACCOUNT` を採用します。背景色はやや灰色がかった白 `#f7f7f7` を基調とします。

TL;DR
- モバイル優先設計。簡潔なグローバルメニュー（上部）と常時見える `CART` バッジを中心に、購入（カート→チェックアウト→支払いコード表示）を素早く完了できる導線を提供します。

上部メニュー（Header）
- 項目: `TOP`, `NEWS`, `EVENT`, `GOODS`, `CART`, `HISTORY`, `ACCOUNT`
- 配置: 左にハンバーガーメニュー／ロゴ、中央は省略可、右にカートアイコン（バッジ）
- 振る舞い: モバイルはハンバーガー（左スライドドロワー）。ドロワーはオーバーレイ・フォーカストラップを備え、`aria-expanded` を付与。デスクトップは横並びナビ。
- CART バッジ: 円形の小バッジに数量を表示（0は非表示）。色はアクセント（例: `#ff6b6b`）で視認性を確保。ヘッダ縮小時もバッジは見えるようにする。

ビジュアル・トークン
- 背景: `#f7f7f7`
- カード/Surface: `#ffffff`
- テキスト: `#111827`（本文） / `#6b7280`（補助）
- プライマリCTA: `#1a73e8`、アクセント（セール等）: `#ff6b6b`
- ボーダー/ディバイダ: `#e5e7eb`

タイポグラフィ
- フォント: `Inter` / `Noto Sans JP` 等のサンセリフ。フォールバックを含める。
- サイズ（モバイル基準）: base 16px、H1 28–32px、H2 20–24px、本文 14–16px、ボタン 16px。

レスポンシブ（mobile-first）
- breakpoints: 0–479px (mobile), 480–767px (sm), 768–1023px (md), 1024px+ (lg)
- レイアウト優先: モバイル=1カラム、タブレット=2カラム、デスクトップ=3〜4カラム

コンポーネント仕様（要点）
- ヘッダー: 高さ可変（スクロールで縮小）、シャドウで区切る。ハンバーガーは左、ロゴ中央/左、カート右。
- ヒーロー: フル幅ビジュアル、短いキャッチと1つの主要CTA。画像上は暗めのオーバーレイで可読性を担保。
- 商品カード: 画像(1:1)、商品名（1行で省略可）、価格、在庫ラベル、右下に小さなクイックカートボタン。
- 商品詳細: ギャラリー（スワイプ/ピンチ）、在庫表示、サイズ/カラー選択、数量ステッパー、大きな「カートに追加」CTA。
- カート: 商品一覧（編集可）、小計、受取方法選択（コンビニ受取）、下部固定の「チェックアウト」CTA。
- チェックアウト: ステップ分割（連絡先→受取方法→確認）、チェーン選択と店舗検索（郵便番号/現在地）、注文確定で支払いコード発行。
- 支払いコード表示: 大きなコード表示（英数字）＋QR、支払期限（72時間）を強調、コピーボタン／印刷ボタン／メール送信ボタンを用意。

アクセシビリティ
- WCAG AA を目標にコントラスト検証。画像は代替テキスト必須。キーボード操作・スクリーンリーダー対応（ARIAランドマーク、aria-live バッジ更新）。

アセット
- 商品画像: 800×800px 以上（WebP推奨）、サムネイルは300–600px。ヒーローは16:9推奨。
- アイコン: SVG（ハンバーガー、カート、検索、QRなど）

インタラクション & パフォーマンス
- カルーセルは慣性スクロール、CTAは即時フィードバック（押下アニメーション）。画像は lazy-load、CDN 配信推奨。

実装メモ
- サーバーサイドレンダリング（Flask + Jinja）は高速に導入可能。SPA（React/Vue）ならコンポーネント化で将来拡張しやすい。
- CART バッジはクッキー/LocalStorage とサーバ同期で一貫性を保つ。支払いコードはサーバで発行・保存し、有効期限と発行ログを厳密に管理する。

次のステップ（提案）
- この `dsign.md` を確認の上、`web_app/templates/base.html` に新メニュー（推奨案）を反映し、簡単な CSS 変数を `site/css/styles.css` に追加します。どちらを先に行いますか？

---
作成者: 自動生成デザイン仕様（要レビュー）
